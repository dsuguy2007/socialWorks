<?php 
class Base_Functions_Sessions
{
    public static function flash_message($messages ='', $clear=true, $namespace=false)
    {
        $_namespace = 'flash_message';

        if($namespace && $namespace != '')
            $_namespace = $namespace;
        
        $flash_message = new Zend_Session_Namespace($_namespace);
           
        if (!isset($flash_message->messages))
            $flash_message->messages = array();        

        if(isset($messages) && $messages == ':clear')
            return  $flash_message->messages = array();

        if(isset($messages) && $messages == ':get')
        {
            $fm = $flash_message->messages;
            $flash_message->messages = array();
            return $fm;
        }

        if($clear)
            $flash_message->messages = array();

        if(isset($messages) && $messages != '')
        {   
            if(is_array($messages))
                $flash_message->messages = $messages;

            if(is_string($messages))
               $flash_message->messages[] = $messages;
        }

        return  $flash_message->messages;
    }

    public static function temp_value($value ='')
    {
        $temp_value = new Zend_Session_Namespace('temp_values');
           
        if (!isset($temp_value->values))
            $temp_value->values = array();

        if(isset($value) && $value == ':get')
            return  $temp_value->values;


        $temp_value->values = $value;
         
        return  $temp_value->values;

    }
    
    public static function cumulative_value($name, $value)
    {
        $values = new Zend_Session_Namespace($name);
        
        if (!isset($values->values))
            $values->values = array();

        if($value == ':get')
            return $values->values;

        $values->values[] = $value;
        
        return $values->values;

    }
    

    public static function update_session_value_by_name($name, $value)
    {
        $values = new Zend_Session_Namespace($name);
        
        if (!isset($values->values))
            $values->values = array();

        $values->values = $value;
        
        return true;
    }    
    
    
    
} 
